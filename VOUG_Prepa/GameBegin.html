<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Game Begin</title>
    <link rel="stylesheet" type="text/css" href="GameBeginCSS.css">
    <script src="../JS/jquery-3.3.1.js"></script>
    <script src="../JS/PlayerScore.js"></script>
    <script src="GameBeginJS.js"></script>
</head>
<body>
    <button id="btnPlayInit" class="btnBegin"> Etes-vous prêt à jouer ?</button>




    <!--   <input class="iptNamePlayer" type="text" placeholder="Player 1">  </input>
          <div class="hamsterChoosing" id="player1" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
   <!--  <input class="iptNamePlayer" type="text" placeholder="Player 1">  </input>
          <div class="hamsterChoosing" id="player3" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
     <input class="iptNamePlayer" type="text" placeholder="Player 1">  </input>
          <div class="hamsterChoosing" id="player4" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
     <input class="iptNamePlayer" type="text" placeholder="Player 1">  </input>
           <div class="hamsterChoosing" id="player5" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
     <input class="iptNamePlayer" type="text" placeholder="Player 1">  </input>
           <div class="hamsterChoosing" id="player6" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
     <input class="iptNamePlayer" type="text" placeholder="Player 1">  </input>
          <div class="hamsterChoosing" id="player7" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
     <input class="iptNamePlayer" type="text" placeholder="Player 1">  </input>
          <div class="hamsterChoosing" id="player8" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
     <input class="iptNamePlayer" type="text" placeholder="Player 1">  </input>-->



<div id="dBoxNbrPlayer">
    <h1 id="title"> How many players want to play ? </h1>
    <button id="btnPlay2" class="btnBegin btnChoiceNbrPlayer" value="2" onclick=""> 2 players</button>
    <button id="btnPlay4" class="btnBegin btnChoiceNbrPlayer" value="4" onclick=""> 4 players</button>
    <button id="btnPlay8" class="btnBegin btnChoiceNbrPlayer" value="8" onclick=""> 8 players</button>
</div>
<div id="dBoxInfoPlayer">

    <div id="dBoxPlayer">
     <table style="margin-right: 25%; margin-left: 25%">
        <tr>
            <td>
                <input class="iptNamePlayer" type="text" placeholder="Player 1">  </input>
            </td>
            <td>
                <div class="hamsterChoosing" id="player1" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
            </td>
            <td style="padding-left: 5%">
                <input class="iptNamePlayer" type="text" placeholder="Player 2">  </input>
            </td>
            <td>
                <div class="hamsterChoosing" id="player2" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
            </td>
        </tr>
        <tr>
            <td>
                <input class="iptNamePlayer" type="text" placeholder="Player 3">  </input>
            </td>
            <td>
                <div class="hamsterChoosing" id="player3" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
            </td>
            <td style="padding-left: 5%">
                <input class="iptNamePlayer" type="text" placeholder="Player 4">  </input>
            </td>
            <td>
                <div class="hamsterChoosing" id="player4" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
            </td>
        </tr>
        <tr>
            <td>
                <input class="iptNamePlayer" type="text" placeholder="Player 5">  </input>
            </td>
            <td>
                <div class="hamsterChoosing" id="player5" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
            </td>
            <td style="padding-left: 5%">
                <input class="iptNamePlayer" type="text" placeholder="Player 6">  </input>
            </td>
            <td>
                <div class="hamsterChoosing" id="player6" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
            </td>
        </tr>
        <tr>
            <td>
                <input class="iptNamePlayer" type="text" placeholder="Player 7">  </input>
            </td>
            <td>
                <div class="hamsterChoosing" id="player7" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
            </td>
            <td style="padding-left: 5%">
                <input class="iptNamePlayer" type="text" placeholder="Player 8">  </input>
            </td>
            <td>
                <div class="hamsterChoosing" id="player8" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
            </td>
        </tr>
    </table>
    </div>


     <div id="dBoxHamster">
        <div class="hamsterChoice" id="ham1" ondrop="drop(event)" ondragover="allowDrop(event)">
            <img src="../IMAGE/ham1.jpg" draggable="true" ondragstart="drag(event)" id="drag1" width="75" height="75">
        </div>
        <div class="hamsterChoice" id="ham2" ondrop="drop(event)" ondragover="allowDrop(event)">
            <img src="../IMAGE/ham2.jpg" draggable="true" ondragstart="drag(event)" id="drag2" width="75" height="75">
        </div>
        <div class="hamsterChoice" id="ham3" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
        <div class="hamsterChoice" id="ham4" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
        <div class="hamsterChoice" id="ham5" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
        <div class="hamsterChoice" id="ham6" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
        <div class="hamsterChoice" id="ham7" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
        <div class="hamsterChoice" id="ham8" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
    </div>
</div>
    <div>
    <div id="map"></div>
    <script>
        function initMap() {
            var map = new google.maps.Map(document.getElementById('map'), {
                center: {lat: -34.397, lng: 150.644},
                zoom: 10
            });
            var infoWindow = new google.maps.InfoWindow({map: map});

            // Try HTML5 geolocation.
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(function(position) {
                    var pos = {
                        lat: position.coords.latitude,
                        lng: position.coords.longitude
                    };

                    infoWindow.setPosition(pos);
                    infoWindow.setContent('La partie se joue ici.');
                    map.setCenter(pos);
                }, function() {
                    handleLocationError(true, infoWindow, map.getCenter());
                });
            } else {
                // Browser doesn't support Geolocation
                handleLocationError(false, infoWindow, map.getCenter());
            }
        }

        function handleLocationError(browserHasGeolocation, infoWindow, pos) {
            infoWindow.setPosition(pos);
            infoWindow.setContent(browserHasGeolocation ?
                'Error: The Geolocation service failed.' :
                'Error: Your browser doesn\'t support geolocation.');
        }

    </script>
    <script async defer
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAQszGSVfhIEWFBskyzBM6CHY2JL48Zlgg &callback=initMap">
    </script>


</div>
    <script>
        $(document).ready(function () {


            $("#btnPlayInit").click(function () {
                //alert("click");
                 $(this).animate({ "left": "-=1000px" }, "fast").fadeOut( "low", function () {

                     $("#dBoxNbrPlayer").css("visibility", "visible");
                     $("#dBoxNbrPlayer").fadeIn("low");
                     //      $("#btnPlay2").css("background-color","red");
                     //       document.getElementById("btnPlay2").style.visibility = "visible";
                 });
            });


            $(".btnChoiceNbrPlayer").click(function () {
              // alert());
                //////////////////////////////////////
                // Create Object PLAY
                Play($(this).attr("value"));


                $("#dBoxNbrPlayer button").each(function() {
                    $(this).animate({ "left": "-=1000px" }, "fast").fadeOut("low", function () {
                        $("#dBoxInfoPlayer").css("visibility", "visible");
                        $("#map").css("visibility", "visible");
                    });
                });


                $("#titlePlayer").text("Name of Player " + iCurrentPlayer + " / " + localStorage.getItem("nbrPlayer"))
                /////////////////////////////////////
            });

            $("#next").click(function () {
                alert($("#iptNamePlayer").text())
                // AddPlayer('test','2');
                $("#titlePlayer").text("Name of Player " + iCurrentPlayer + " / " + localStorage.getItem("nbrPlayer"))

                if(iCurrentPlayer >  localStorage.getItem("nbrPlayer"))
                {
                    $("#dBoxInfoPlayer *").each(function() {
                        $(this).animate({ "left": "-=1000px" }, "fast").fadeOut("low", function () {
                            // $("#dBoxInfoPlayer").css("visibility", "visible");
                           // alert(aPlayers);
                        });
                    });
                }
            });
        });


    </script>
</body>
</html>
